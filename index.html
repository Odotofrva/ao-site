<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AlmightyOdot.xyz</title>

    <!-- Tailwind (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      /* Fade + slight rise */
      @keyframes fadeUp {
        from { opacity: 0; transform: translateY(14px); }
        to   { opacity: 1; transform: translateY(0); }
      }
      .animate-fadeUp { animation: fadeUp 900ms ease-out both; }
      .delay-150 { animation-delay: 150ms; }
      .delay-300 { animation-delay: 300ms; }

      /* Simple page transition */
      @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      .animate-fadeIn { animation: fadeIn 350ms ease-out both; }

      video { object-fit: cover; }

      /* Active nav item */
      .navlink-active {
        background: rgba(255,255,255,0.10);
        border-color: rgba(255,255,255,0.18);
        color: rgba(255,255,255,0.95);
      }

      /* Card glow on hover */
      .glow-card {
        transition: transform 180ms ease, box-shadow 180ms ease, border-color 180ms ease, background 180ms ease;
      }
      .glow-card:hover {
        transform: translateY(-2px);
        border-color: rgba(255,255,255,0.22);
        box-shadow:
          0 0 0 1px rgba(255,255,255,0.06),
          0 18px 50px rgba(0,0,0,0.55),
          0 0 36px rgba(255,255,255,0.08);
      }

      /* Ticker animation */
      @keyframes marquee {
        from { transform: translateX(0); }
        to   { transform: translateX(-50%); }
      }
      .marquee {
        display: flex;
        width: max-content;
        animation: marquee 22s linear infinite;
      }
      .marquee:hover { animation-play-state: paused; }

      /* GLTF viewer host */
      #robotechi-gltf-wrap {
        position: relative;
        overflow: hidden;
        border-radius: 1.5rem;
      }
      #robotechi-gltf {
        position: absolute;
        inset: 0;
      }
      #robotechi-gltf canvas {
        width: 100%;
        height: 100%;
        display: block;
      }
      .gltf-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(to bottom right, rgba(0,0,0,0.12), rgba(0,0,0,0.35));
        pointer-events: none;
      }
    </style>

    <!-- Three.js (module) -->
    <script type="module">
      import * as THREE from "https://unpkg.com/three@0.160.0/build/three.module.js";
      import { GLTFLoader } from "https://unpkg.com/three@0.160.0/examples/jsm/loaders/GLTFLoader.js";
      import { OrbitControls } from "https://unpkg.com/three@0.160.0/examples/jsm/controls/OrbitControls.js";

      window.__initRoboTechiGLTF = function initRoboTechiGLTF() {
        const wrap = document.getElementById("robotechi-gltf-wrap");
        const host = document.getElementById("robotechi-gltf");
        const status = document.getElementById("gltfStatus");
        if (!wrap || !host) return;

        // prevent double init
        if (host.dataset.inited === "true") return;
        host.dataset.inited = "true";

        const prefersReduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

        const scene = new THREE.Scene();

        const camera = new THREE.PerspectiveCamera(45, 1, 0.1, 200);
        camera.position.set(0, 1.2, 3.2);

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true, powerPreference: "high-performance" });
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.outputColorSpace = THREE.SRGBColorSpace;
        renderer.toneMapping = THREE.ACESFilmicToneMapping;
        renderer.toneMappingExposure = 1.1;
        host.appendChild(renderer.domElement);

        scene.add(new THREE.HemisphereLight(0xffffff, 0x222222, 1.0));
        const dir = new THREE.DirectionalLight(0xffffff, 1.1);
        dir.position.set(3, 5, 2);
        scene.add(dir);

        const controls = new OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.06;
        controls.enablePan = false;
        controls.enableZoom = false; // set true if you want pinch zoom
        controls.rotateSpeed = 0.7;
        renderer.domElement.style.touchAction = "none";

        const MODEL_URL = "tech.glb";

        const loader = new GLTFLoader();
        let modelRoot = null;

        loader.load(
          MODEL_URL,
          (gltf) => {
            modelRoot = gltf.scene;
            scene.add(modelRoot);

            // Fit camera to model (robust)
            const box = new THREE.Box3().setFromObject(modelRoot);
            const size = new THREE.Vector3();
            const center = new THREE.Vector3();
            box.getSize(size);
            box.getCenter(center);

            modelRoot.position.sub(center);

            const maxDim = Math.max(size.x, size.y, size.z);
            const fov = camera.fov * (Math.PI / 180);
            let cameraZ = Math.abs(maxDim / 2 / Math.tan(fov / 2));
            cameraZ *= 1.6;

            camera.position.set(0, maxDim * 0.4, cameraZ);
            camera.lookAt(0, 0, 0);

            controls.target.set(0, 0, 0);
            controls.update();

            if (status) status.textContent = "Loaded ✓ Drag to rotate";
            if (!prefersReduced) modelRoot.userData.idleSpin = true;
          },
          (xhr) => {
            if (status && xhr.total) {
              const pct = Math.round((xhr.loaded / xhr.total) * 100);
              status.textContent = `Loading 3D model… ${pct}%`;
            }
          },
          (err) => {
            if (status) status.textContent = "Failed to load model (check path/console)";
            console.error("GLB load error:", err);
          }
        );

        const resize = () => {
          const rect = wrap.getBoundingClientRect();
          const w = Math.max(1, rect.width);
          const h = Math.max(1, rect.height);
          camera.aspect = w / h;
          camera.updateProjectionMatrix();
          renderer.setSize(w, h, false);
        };

        const ro = new ResizeObserver(resize);
        ro.observe(wrap);
        resize();

        let rafId = 0;
        const clock = new THREE.Clock();

        const animate = () => {
          rafId = requestAnimationFrame(animate);
          const dt = clock.getDelta();

          if (modelRoot && modelRoot.userData.idleSpin && !prefersReduced) {
            modelRoot.rotation.y += dt * 0.25;
          }

          controls.update();
          renderer.render(scene, camera);
        };
        animate();

        const io = new IntersectionObserver(
          (entries) => {
            const isVisible = entries.some((e) => e.isIntersecting);
            if (!isVisible && rafId) {
              cancelAnimationFrame(rafId);
              rafId = 0;
            } else if (isVisible && !rafId) {
              clock.getDelta();
              animate();
            }
          },
          { threshold: 0.1 }
        );
        io.observe(wrap);
      };
    </script>
  </head>

  <body class="w-screen bg-black text-white">
    <!-- LANDING -->
    <section id="landing" class="relative h-screen w-screen">
      <video class="fixed inset-0 -z-20 h-full w-full" autoplay muted loop playsinline>
        <source src="space.mp4" type="video/mp4" />
      </video>
      <div class="fixed inset-0 -z-10 bg-black/50"></div>

      <main class="flex h-screen w-screen items-center justify-center p-6">
        <div class="flex flex-col items-center text-center">
          <img
            src="logo.png"
            alt="Logo"
            class="animate-fadeUp w-[60%] max-w-[220px] sm:max-w-[260px]"
          />

          <button
            id="enterBtn"
            class="animate-fadeUp delay-300 mt-7 rounded-full bg-white/90 px-10 py-3 text-base font-semibold text-black shadow-lg transition hover:-translate-y-0.5 hover:bg-white hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-white/80 focus:ring-offset-2 focus:ring-offset-black sm:text-lg"
            type="button"
          >
            Enter Now
          </button>
        </div>
      </main>
    </section>

    <!-- HOME -->
    <section id="home" class="hidden min-h-screen bg-zinc-950">
      <!-- Sticky Header + Ticker -->
      <header class="sticky top-0 z-40 border-b border-white/10 bg-zinc-950/70 backdrop-blur">
        <!-- Crypto ticker bar -->
        <div class="border-b border-white/10 bg-black/30">
          <div class="mx-auto w-full max-w-6xl px-5 py-2 sm:px-8">
            <div class="flex items-center gap-3">
              <span class="shrink-0 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-[11px] font-semibold tracking-wide text-white/80">
                CRYPTO
              </span>

              <div class="relative w-full overflow-hidden">
                <!-- Fade edges -->
                <div class="pointer-events-none absolute left-0 top-0 h-full w-10 bg-gradient-to-r from-zinc-950/90 to-transparent"></div>
                <div class="pointer-events-none absolute right-0 top-0 h-full w-10 bg-gradient-to-l from-zinc-950/90 to-transparent"></div>

                <!-- Marquee content (duplicated for seamless scroll) -->
                <div id="tickerMarquee" class="marquee gap-8 text-[12px] text-white/80">
                  <div class="flex items-center gap-8" id="tickerRowA">
                    <span class="opacity-70">Loading prices…</span>
                  </div>
                  <div class="flex items-center gap-8" id="tickerRowB" aria-hidden="true">
                    <span class="opacity-70">Loading prices…</span>
                  </div>
                </div>
              </div>

              <button
                id="tickerRefresh"
                class="shrink-0 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-[11px] text-white/70 transition hover:bg-white/10"
                type="button"
              >
                Refresh
              </button>
            </div>
          </div>
        </div>

        <!-- Top bar -->
        <div class="mx-auto flex w-full max-w-6xl items-center justify-between px-5 py-4 sm:px-8">
          <div class="w-12"></div>

          <div class="flex items-center justify-center">
            <img src="logo.png" alt="Logo" class="h-10 w-auto sm:h-12" />
          </div>

          <button
            id="menuBtn"
            class="inline-flex h-12 w-12 items-center justify-center rounded-full border border-white/10 bg-white/5 transition hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/40"
            type="button"
            aria-label="Open menu"
            aria-expanded="false"
          >
            <span class="relative block h-4 w-5">
              <span class="absolute left-0 top-0 h-[2px] w-full bg-white/90"></span>
              <span class="absolute left-0 top-1/2 h-[2px] w-full -translate-y-1/2 bg-white/90"></span>
              <span class="absolute left-0 bottom-0 h-[2px] w-full bg-white/90"></span>
            </span>
          </button>
        </div>

        <!-- Menu Panel -->
        <nav id="menuPanel" class="mx-auto hidden w-full max-w-6xl px-5 pb-4 sm:px-8">
          <div class="rounded-2xl border border-white/10 bg-white/5 p-3 backdrop-blur">
            <ul class="grid gap-2 sm:grid-cols-5">
              <li><a data-section="about" class="navlink block rounded-xl border border-transparent px-4 py-3 text-white/80 hover:bg-white/10" href="#about">About</a></li>
              <li><a data-section="projects" class="navlink block rounded-xl border border-transparent px-4 py-3 text-white/80 hover:bg-white/10" href="#projects">Projects</a></li>
              <li><a data-section="lookbook" class="navlink block rounded-xl border border-transparent px-4 py-3 text-white/80 hover:bg-white/10" href="#lookbook">Lookbook</a></li>
              <li><a data-section="robotechi" class="navlink block rounded-xl border border-transparent px-4 py-3 text-white/80 hover:bg-white/10" href="#robotechi">RoboTechi</a></li>
              <li><a data-section="contact" class="navlink block rounded-xl border border-transparent px-4 py-3 text-white/80 hover:bg-white/10" href="#contact">Contact</a></li>
            </ul>
          </div>
        </nav>
      </header>

      <main class="mx-auto w-full max-w-6xl px-5 pb-12 pt-6 sm:px-8">
        <!-- ABOUT -->
        <section id="about" class="mt-8 scroll-mt-28">
          <div class="glow-card rounded-3xl border border-white/10 bg-white/5 p-6 backdrop-blur sm:p-10">
            <div class="grid items-center gap-8 lg:grid-cols-2">
              <div>
                <p class="text-sm font-medium tracking-wide text-white/60">About</p>
                <h2 class="mt-2 text-2xl font-semibold sm:text-3xl">Who is Odot!?</h2>
                <p class="mt-3 max-w-3xl text-white/70">
                  Orion, also known as Almighty Odot, is a self-taught developer and low-voltage technologist whose journey is rooted in resilience, hands-on learning, and a deep commitment to ownership through skill. </p>
                <br>
                <p>Orion began his career in the field as an electrical field technician, where he developed real-world experience working with electrical systems, infrastructure, and low-voltage environments. After being unexpectedly laid off from what he once considered a dream role, he made a pivotal decision: instead of stepping away from the industry, he chose to dive deeper into the technical foundations behind the work. </p>
                    <br>
                <p>This turning point led Orion to intensively self-educate in electrical systems, low-voltage infrastructure, networking, IoT, and embedded development—bridging practical field experience with modern technology. What began as self-preservation evolved into a mission.</p>
                    <br>
                <p>Now in 2026, Orion’s focus is clear: education, ownership, and elevation. Through RoboTechi, he is committed to sharing accessible, real-world electrical and low-voltage education while continuing to grow professionally within the field—ensuring he is never again placed in a position where knowledge and opportunity are controlled by others.</p>
                </p>
              </div>

              <div class="rounded-3xl border border-white/10 bg-black/20 p-4">
                <p class="text-sm text-white/70"><img src="logo.png" alt=""></p>
              </div>
            </div>
          </div>
        </section>

        <!-- PROJECTS -->
        <section id="projects" class="mt-14 scroll-mt-40">
          <div class="glow-card rounded-3xl border border-white/10 bg-white/5 p-6 backdrop-blur sm:p-10">
            <p class="text-sm font-medium tracking-wide text-white/60">Projects</p>
            <h2 class="mt-2 text-2xl font-semibold sm:text-3xl">The Works of Almighty Odot!</h2>

            <div class="mt-8 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
              <article class="glow-card rounded-2xl border border-white/10 bg-black/20 p-5">
                <div class="aspect-video w-full overflow-hidden rounded-xl border border-white/10 bg-white/5"></div>
                <h3 class="mt-4 font-semibold">Project Title</h3>
                <p class="mt-1 text-sm text-white/70">Short description of the project.</p>
              </article>
              <article class="glow-card rounded-2xl border border-white/10 bg-black/20 p-5">
                <div class="aspect-video w-full overflow-hidden rounded-xl border border-white/10 bg-white/5"></div>
                <h3 class="mt-4 font-semibold">Project Title</h3>
                <p class="mt-1 text-sm text-white/70">Short description of the project.</p>
              </article>
              <article class="glow-card rounded-2xl border border-white/10 bg-black/20 p-5">
                <div class="aspect-video w-full overflow-hidden rounded-xl border border-white/10 bg-white/5"></div>
                <h3 class="mt-4 font-semibold">Project Title</h3>
                <p class="mt-1 text-sm text-white/70">Short description of the project.</p>
              </article>
            </div>
          </div>
        </section>

        <!-- LOOKBOOK (Gallery) -->
        <section id="lookbook" class="mt-14 scroll-mt-40">
          <div class="glow-card rounded-3xl border border-white/10 bg-white/5 p-6 backdrop-blur sm:p-10">
            <div class="flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between">
              <div>
                <p class="text-sm font-medium tracking-wide text-white/60">Lookbook</p>
                <h2 class="mt-2 text-2xl font-semibold sm:text-3xl">The Gallery of Almighty Odot!</h2>
                <p class="mt-2 max-w-2xl text-white/70">
                  Take a view of the entrepreneur...
                </p>
              </div>

              <div class="flex gap-2">
                <button
                  id="lookPrev"
                  class="rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/80 transition hover:bg-white/10"
                  type="button"
                >
                  ←
                </button>
                <button
                  id="lookNext"
                  class="rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/80 transition hover:bg-white/10"
                  type="button"
                >
                  →
                </button>
              </div>
            </div>

            <!-- Carousel -->
            <div class="mt-6 overflow-hidden rounded-3xl border border-white/10 bg-black/20">
              <div
                id="lookTrack"
                class="flex transition-transform duration-300 ease-out"
                style="transform: translateX(0%)"
              >
                <!-- Slide 1 -->
                <div class="w-full shrink-0">
                  <div class="relative h-[240px] sm:h-[340px] lg:h-[420px]">
                    <img src="assets/lookbook-1.jpg" alt="Lookbook 1" class="absolute inset-0 h-full w-full object-cover" />
                    <div class="absolute inset-0 bg-black/25"></div>
                    <div class="absolute bottom-4 left-4 rounded-full border border-white/10 bg-black/40 px-4 py-2 text-xs text-white/80">
                      Look 01
                    </div>
                  </div>
                </div>
                <!-- Slide 2 -->
                <div class="w-full shrink-0">
                  <div class="relative h-[240px] sm:h-[340px] lg:h-[420px]">
                    <img src="assets/lookbook-2.jpg" alt="Lookbook 2" class="absolute inset-0 h-full w-full object-cover" />
                    <div class="absolute inset-0 bg-black/25"></div>
                    <div class="absolute bottom-4 left-4 rounded-full border border-white/10 bg-black/40 px-4 py-2 text-xs text-white/80">
                      Look 02
                    </div>
                  </div>
                </div>
                <!-- Slide 3 -->
                <div class="w-full shrink-0">
                  <div class="relative h-[240px] sm:h-[340px] lg:h-[420px]">
                    <img src="assets/lookbook-3.jpg" alt="Lookbook 3" class="absolute inset-0 h-full w-full object-cover" />
                    <div class="absolute inset-0 bg-black/25"></div>
                    <div class="absolute bottom-4 left-4 rounded-full border border-white/10 bg-black/40 px-4 py-2 text-xs text-white/80">
                      Look 03
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 2 cards under carousel -->
            <div class="mt-6 grid gap-4 sm:grid-cols-2">
              <div class="glow-card rounded-2xl border border-white/10 bg-black/20 p-6">
                <p class="text-sm font-medium text-white/80">Drop details</p>
                <h3 class="mt-2 text-lg font-semibold">Limited pieces</h3>
                <p class="mt-2 text-sm text-white/70">
                  Use this card for collection notes, materials, or the story behind the looks.
                </p>
              </div>

              <div class="glow-card rounded-2xl border border-white/10 bg-black/20 p-6">
                <p class="text-sm font-medium text-white/80">Shop / Links</p>
                <h3 class="mt-2 text-lg font-semibold">Where to buy</h3>
                <p class="mt-2 text-sm text-white/70">
                  Add buttons to Shopify, a product page, or a “notify me” signup.
                </p>
              </div>
            </div>
          </div>
        </section>

        <!-- ROBOTECHI (GLB Viewer) -->
        <section id="robotechi" class="mt-14 scroll-mt-40">
          <div class="glow-card rounded-3xl border border-white/10 bg-white/5 p-6 backdrop-blur sm:p-10">
            <div class="grid items-center gap-8 lg:grid-cols-2">
              <div>
                
                <h2 class="mt-2 text-2xl font-semibold sm:text-3xl">RoboTechi</h2>
                 <p class="mt-3 max-w-2xl text-white/70">
                  RoboTechi is an education-driven technology company dedicated to making electrical knowledge accessible to everyone. We provide free learning resources focused on low-voltage systems, structured cabling, and core electrician fundamentals, designed for beginners, career-changers, and aspiring tradespeople. RoboTechi bridges hands-on trade skills with modern tech education, empowering individuals to learn safely, build confidently, and grow real-world electrical expertise.
                </p>

                <div class="mt-5 flex flex-col gap-3 sm:flex-row">
                  <a
                    href="#projects"
                    class="inline-flex items-center justify-center rounded-full bg-white px-6 py-3 text-sm font-semibold text-black transition hover:-translate-y-0.5 hover:shadow-xl"
                  >
                    See Work
                  </a>
                  <a
                    href="#contact"
                    class="inline-flex items-center justify-center rounded-full border border-white/15 px-6 py-3 text-sm font-semibold text-white/90 transition hover:bg-white/10"
                  >
                    Work With Me
                  </a>
                </div>

              
              </div>

              <div class="relative">
                <div
                  id="robotechi-gltf-wrap"
                  class="glow-card h-[260px] overflow-hidden rounded-3xl border border-white/10 bg-gradient-to-br from-white/10 to-black/30 sm:h-[320px] lg:h-[380px]"
                >
                  <div id="robotechi-gltf" class="absolute inset-0"></div>
                  <div class="gltf-overlay"></div>

                  <div
                    id="gltfStatus"
                    class="pointer-events-none absolute bottom-4 left-4 z-10 rounded-full border border-white/10 bg-black/40 px-3 py-2 text-xs text-white/80"
                  >
                    Loading 3D model…
                  </div>

                  <div class="pointer-events-none absolute left-4 top-4 z-10 inline-flex items-center gap-2 rounded-full border border-white/10 bg-black/40 px-4 py-2 text-xs text-white/80">
                    <span class="h-2 w-2 rounded-full bg-white/70"></span>
                    keyboard.glb
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- CONTACT (no image) -->
        <section id="contact" class="mt-14 scroll-mt-40">
          <div class="glow-card rounded-3xl border border-white/10 bg-white/5 p-6 backdrop-blur sm:p-10">
            <p class="text-sm font-medium tracking-wide text-white/60">Contact</p>
            <h2 class="mt-2 text-2xl font-semibold sm:text-3xl">Send a message</h2>
            <p class="mt-3 max-w-2xl text-white/70">
             Interested in connecting with me? No worries. Fill the form completely and I will connect with you soon. Thanks for visiting. 
            </p>

            <form class="mt-6 grid gap-4 sm:max-w-2xl" action="https://formsubmit.co/YOUR_EMAIL@domain.com" method="POST">
              <input type="hidden" name="_subject" value="New Website Contact Submission" />
              <input type="hidden" name="_template" value="table" />
              <input type="hidden" name="_captcha" value="false" />

              <div class="grid gap-4 sm:grid-cols-2">
                <label class="grid gap-2">
                  <span class="text-sm text-white/70">Name</span>
                  <input name="name" required class="rounded-2xl border border-white/10 bg-black/30 px-4 py-3 text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-white/30" placeholder="Your name" />
                </label>

                <label class="grid gap-2">
                  <span class="text-sm text-white/70">Email</span>
                  <input type="email" name="email" required class="rounded-2xl border border-white/10 bg-black/30 px-4 py-3 text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-white/30" placeholder="you@example.com" />
                </label>
              </div>

              <label class="grid gap-2">
                <span class="text-sm text-white/70">Message</span>
                <textarea name="message" rows="5" required class="rounded-2xl border border-white/10 bg-black/30 px-4 py-3 text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-white/30" placeholder="Tell me what you're trying to build..."></textarea>
              </label>

              <div class="flex flex-col gap-3 sm:flex-row sm:items-center">
                <button class="inline-flex items-center justify-center rounded-full bg-white px-7 py-3 text-sm font-semibold text-black transition hover:-translate-y-0.5 hover:shadow-xl" type="submit">
                  Send Message
                </button>
              </div>
            </form>
          </div>
        </section>

        <footer class="mt-12 pb-10 text-center text-xs text-white/40">
          © <span id="year"></span> AlmightyOdot. All rights reserved.
        </footer>
      </main>
    </section>

    <script>
      // Landing -> Home
      const enterBtn = document.getElementById("enterBtn");
      const landing = document.getElementById("landing");
      const home = document.getElementById("home");

      enterBtn.addEventListener("click", () => {
        landing.classList.add("hidden");
        home.classList.remove("hidden");
        home.classList.add("animate-fadeIn");

        // Stop video (optional)
        const vid = document.querySelector("video");
        if (vid) {
          vid.pause();
          vid.removeAttribute("src");
          vid.load();
        }

        initActiveMenu();
        initLookbookCarousel();
        initCryptoTicker();

        // Init GLB viewer
        if (window.__initRoboTechiGLTF) window.__initRoboTechiGLTF();

        // Default active nav = About
        setActiveNav("about");
      });

      // Menu toggle
      const menuBtn = document.getElementById("menuBtn");
      const menuPanel = document.getElementById("menuPanel");

      menuBtn.addEventListener("click", () => {
        const isOpen = !menuPanel.classList.contains("hidden");
        menuPanel.classList.toggle("hidden");
        menuBtn.setAttribute("aria-expanded", String(!isOpen));
      });

      // Close menu on link click
      document.querySelectorAll("#menuPanel a").forEach((a) => {
        a.addEventListener("click", () => {
          menuPanel.classList.add("hidden");
          menuBtn.setAttribute("aria-expanded", "false");
        });
      });

      // Footer year
      document.getElementById("year").textContent = new Date().getFullYear();

      // --------------------------
      // Active Menu Highlighting
      // --------------------------
      let setActiveNav = () => {};
      function initActiveMenu() {
        const links = Array.from(document.querySelectorAll(".navlink"));

        setActiveNav = (id) => {
          links.forEach((l) => {
            const isActive = l.dataset.section === id;
            l.classList.toggle("navlink-active", isActive);
            l.classList.toggle("border", isActive);
            l.classList.toggle("border-white/10", isActive);
            l.classList.toggle("text-white/95", isActive);
            l.classList.toggle("text-white/80", !isActive);
          });
        };

        const sections = ["about", "projects", "lookbook", "robotechi", "contact"]
          .map((id) => document.getElementById(id))
          .filter(Boolean);

        if (!sections.length) return;

        const io = new IntersectionObserver(
          (entries) => {
            const visible = entries
              .filter((e) => e.isIntersecting)
              .sort((a, b) => b.intersectionRatio - a.intersectionRatio)[0];

            if (visible?.target?.id) setActiveNav(visible.target.id);
          },
          {
            root: null,
            // compensate for sticky header + ticker
            rootMargin: "-35% 0px -55% 0px",
            threshold: [0.15, 0.25, 0.35, 0.5, 0.75],
          }
        );

        sections.forEach((s) => io.observe(s));
      }

      // --------------------------
      // Lookbook Carousel
      // --------------------------
      function initLookbookCarousel() {
        const track = document.getElementById("lookTrack");
        const prev = document.getElementById("lookPrev");
        const next = document.getElementById("lookNext");
        if (!track || !prev || !next) return;

        const slides = Array.from(track.children);
        const total = slides.length;
        let idx = 0;

        const go = (n) => {
          idx = (n + total) % total;
          track.style.transform = `translateX(-${idx * 100}%)`;
        };

        prev.addEventListener("click", () => go(idx - 1));
        next.addEventListener("click", () => go(idx + 1));

        // Touch swipe
        let startX = 0;
        let active = false;

        track.addEventListener("pointerdown", (e) => {
          active = true;
          startX = e.clientX;
          track.setPointerCapture?.(e.pointerId);
        });

        track.addEventListener("pointerup", (e) => {
          if (!active) return;
          active = false;
          const dx = e.clientX - startX;
          const threshold = 40;
          if (dx > threshold) go(idx - 1);
          else if (dx < -threshold) go(idx + 1);
        });

        track.addEventListener("pointercancel", () => (active = false));

        // Optional autoplay
        let timer = setInterval(() => go(idx + 1), 6000);

        // pause on hover (desktop)
        const carouselBox = track.parentElement;
        carouselBox?.addEventListener("mouseenter", () => clearInterval(timer));
        carouselBox?.addEventListener("mouseleave", () => (timer = setInterval(() => go(idx + 1), 6000)));
      }

      // --------------------------
      // Crypto Ticker (CoinGecko)
      // --------------------------
      function fmtUSD(n) {
        if (!Number.isFinite(n)) return "—";
        return n.toLocaleString(undefined, { style: "currency", currency: "USD", maximumFractionDigits: 0 });
      }

      async function fetchCrypto() {
        // CoinGecko: no API key required for basic endpoints
        const ids = "bitcoin,ethereum,solana,cardano,dogecoin,polkadot";
        const url =
          `https://api.coingecko.com/api/v3/simple/price?ids=${encodeURIComponent(ids)}&vs_currencies=usd&include_24hr_change=true`;

        const res = await fetch(url, { cache: "no-store" });
        if (!res.ok) throw new Error(`Ticker fetch failed: ${res.status}`);
        return res.json();
      }

      function buildTickerItems(data) {
        const map = [
          { id: "bitcoin", sym: "BTC" },
          { id: "ethereum", sym: "ETH" },
          { id: "solana", sym: "SOL" },
          { id: "cardano", sym: "ADA" },
          { id: "dogecoin", sym: "DOGE" },
          { id: "polkadot", sym: "DOT" },
        ];

        return map.map(({ id, sym }) => {
          const price = data?.[id]?.usd ?? null;
          const ch = data?.[id]?.usd_24h_change ?? null;

          const sign = typeof ch === "number" ? (ch >= 0 ? "+" : "") : "";
          const chTxt = typeof ch === "number" ? `${sign}${ch.toFixed(2)}%` : "—";

          return { sym, priceTxt: fmtUSD(price), ch, chTxt };
        });
      }

      function renderTicker(items) {
        const rowA = document.getElementById("tickerRowA");
        const rowB = document.getElementById("tickerRowB");
        if (!rowA || !rowB) return;

        const html = items
          .map((it) => {
            const up = typeof it.ch === "number" && it.ch >= 0;
            const chClass = up ? "text-emerald-300/90" : "text-rose-300/90";
            return `
              <span class="inline-flex items-center gap-2">
                <span class="font-semibold text-white/90">${it.sym}</span>
                <span class="text-white/80">${it.priceTxt}</span>
                <span class="${chClass}">${it.chTxt}</span>
              </span>
            `;
          })
          .join("");

        rowA.innerHTML = html;
        rowB.innerHTML = html; // duplicate for seamless marquee
      }

      function initCryptoTicker() {
        const btn = document.getElementById("tickerRefresh");

        const load = async () => {
          try {
            const data = await fetchCrypto();
            const items = buildTickerItems(data);
            renderTicker(items);
          } catch (e) {
            console.error(e);
            const rowA = document.getElementById("tickerRowA");
            const rowB = document.getElementById("tickerRowB");
            if (rowA) rowA.innerHTML = `<span class="opacity-70">Ticker unavailable (check console)</span>`;
            if (rowB) rowB.innerHTML = `<span class="opacity-70">Ticker unavailable (check console)</span>`;
          }
        };

        btn?.addEventListener("click", load);

        load();
        // refresh every 60s
        setInterval(load, 60000);
      }
    </script>
  </body>
</html>


